{% extends "base.html" %}
{% load static %}

{% block title %}Q&Aæ²ç¤ºæ¿{% endblock %}

{% block head_extra %}  
  <link rel="stylesheet" href="{% static 'css/boards.css' %}">
{% endblock %}

{% block content %}

<div class="board-frame">
    <div class="page-title">Qï¼†Aæ²ç¤ºæ¿</div>

    <!-- æ¤œç´¢è¡Œ -->
    <form method="get" class="board-search-form">
        <input type="text" name="keyword" class="keyword-input"
            placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›" value="{{ keyword }}">

        <select name="category" class="category-select">
            <option value="">ã‚«ãƒ†ã‚´ãƒª</option>
            <option value="0" {% if category == "0" %}>selected{% endif %}æ—¥å¸¸ç”Ÿæ´»</option>
            <option value="1"> {% if category == "1" %}>selected{% endif %}è¡Œäº‹</option>
            <option value="2"> {% if category == "2" %}>selected{% endif %}ãã®ä»–</option>
        </select>

        <button type="submit" class="search-btn">ğŸ”</button>
    </form>

    <!-- ä¸€è¦§è¡¨ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div class="board-list-header">
        <span class="col-title">ã‚¿ã‚¤ãƒˆãƒ«</span>
        <span class="col-date">æŠ•ç¨¿æ—¥</span>
    </div>

    <!-- ä¸€è¦§ -->
    <div class="boards-list">
        {% for b in boards %}
            <a href="{% url 'boards:detail' b.id %}" class="board-row">
                <span class="row-title">{{ b.title }}</span>
                <span class="row-date">{{ b.date|date:"Y/m/d" }}</span>
            </a>
        {% empty %}
            <p class="no-data-text">æŠ•ç¨¿ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        {% endfor %}
    </div>

    <!-- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="pager">
        <span class="pager-btn {% if not page_obj.has_previous %}{% endif %}">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}&keyword={{ keyword }}&category={{ category }}">&laquo;</a>
        {% else %}
            &laquo;
        {% endif %}
        </span>

        <span class="pager-info">
            {{ page_obj.number }}ãƒšãƒ¼ã‚¸
        </span>

        <span class="pager-btn {% if not page_obj.has_next %}{% endif %}">
        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}&keyword={{ keyword }}&category={{ category }}">&raquo;</a>
        {% else %}
            &raquo;
        {% endif %}
        </span>
    </div>

    <div class="to-create-wrapper">
        <a href="{% url 'boards:create' %}" class="to-create-btn">æ–°è¦æŠ•ç¨¿</a>
    </div>
</div>

{% endblock %}

